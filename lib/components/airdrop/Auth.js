import{objectSpread2 as t,asyncToGenerator as r}from"../../_virtual/_rollupPluginBabelHelpers.js";import{useState as a}from"react";import{blockchainLogin as o,blockchainSignup as e}from"../../api/auth.js";import"@solana/web3.js";import"bs58";import{Button as l,Text as n}from"@chakra-ui/react";import{ButtonModal as i}from"../base/ButtonModal.js";import{useConfig as s}from"../../ConfigContext.js";import{jsx as p,jsxs as u,Fragment as m}from"react/jsx-runtime";import"./Dashboard.js";import"./Instruction.js";import"./Task.js";import"@solana/wallet-adapter-phantom";import"@solana/wallet-adapter-solflare";import"@solana/wallet-adapter-react-ui";import"../wallet/WalletModal.js";import"@solana/wallet-adapter-react";import"@chakra-ui/icons";var c=a=>{var{wallet:e,setAuthToken:i}=a,u=s(),m=u.loginComponent,c=function(){var t=r((function*(){var t=yield o(u.backendUrl,u.authAppRoot,e,u.authNetwork,u.authProvider);if(t.success){var r="Token "+t.key;i(r)}}));return function(){return t.apply(this,arguments)}}();return p(l,t(t({},m.buttonProps),{},{onClick:c,children:p(n,t(t({},m.label.labelProps),{},{children:m.label.text}))}))},d=o=>{var{wallet:c,setAuthToken:d}=o,h=s(),b=h.signupComponent,f=b.modalData,[k,v]=a(!1),[j,w]=a({}),P=function(){var t=r((function*(){var t=yield e(h.backendUrl,h.authAppRoot,c,h.authNetwork,h.authProvider,j);if(t.success){var r="Token "+t.key;d(r)}}));return function(){return t.apply(this,arguments)}}();return u(m,{children:[p(l,t(t({},b.buttonProps),{},{onClick:()=>v(!0),children:p(n,t(t({},b.label.labelProps),{},{children:b.label.text}))})),p(i,{label:f.label,inputFields:f.inputFields,isModalOpen:k,modalProps:f.modalProps,setIsModalOpen:v,formValues:j,setFormValues:w,onSubmit:P})]})};export{c as Login,d as Signup};
