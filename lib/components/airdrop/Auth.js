import{objectSpread2 as t,asyncToGenerator as a}from"../../_virtual/_rollupPluginBabelHelpers.js";import{useState as r}from"react";import{blockchainLogin as o,blockchainSignup as e}from"../../api/auth.js";import"@solana/web3.js";import"bs58";import{Button as l,Text as n}from"@chakra-ui/react";import{ButtonModal as i}from"../base/ButtonModal.js";import{useConfig as s}from"../../ConfigContext.js";import{jsx as p,jsxs as u,Fragment as m}from"react/jsx-runtime";import"./Dashboard.js";import"@solana/wallet-adapter-phantom";import"@solana/wallet-adapter-solflare";import"@solana/wallet-adapter-react-ui";import"../wallet/WalletModal.js";import"../wallet/WalletProviders.js";import"@solana/wallet-adapter-react";var c=r=>{var{wallet:e,setAuthToken:i}=r,u=s(),m=u.loginComponent,c=function(){var t=a((function*(){var t=yield o(u.backendUrl,u.authAppRoot,e,u.authNetwork,u.authProvider);if(t.success){var a="Token "+t.key;i(a)}}));return function(){return t.apply(this,arguments)}}();return p(l,t(t({},m.buttonProps),{},{onClick:c,children:p(n,t(t({},m.label.labelProps),{},{children:m.label.text}))}))},d=o=>{var{wallet:c,setAuthToken:d}=o,b=s(),h=b.signupComponent,f=h.modalData,[k,v]=r(!1),[w,j]=r({}),P=function(){var t=a((function*(){var t=yield e(b.backendUrl,b.authAppRoot,c,b.authNetwork,b.authProvider,w);if(t.success){var a="Token "+t.key;d(a)}}));return function(){return t.apply(this,arguments)}}();return u(m,{children:[p(l,t(t({},h.buttonProps),{},{onClick:()=>v(!0),children:p(n,t(t({},h.label.labelProps),{},{children:h.label.text}))})),p(i,{label:f.label,inputFields:f.inputFields,isModalOpen:k,modalProps:f.modalProps,setIsModalOpen:v,formValues:w,setFormValues:j,onSubmit:P})]})};export{c as Login,d as Signup};
